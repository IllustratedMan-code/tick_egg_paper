{"version":3,"sources":["webpack://@jupyterlab/application-top/./node_modules/lib0/array.js","webpack://@jupyterlab/application-top/./node_modules/lib0/function.js","webpack://@jupyterlab/application-top/./node_modules/lib0/map.js","webpack://@jupyterlab/application-top/./node_modules/lib0/math.js","webpack://@jupyterlab/application-top/./node_modules/lib0/object.js","webpack://@jupyterlab/application-top/./node_modules/lib0/observable.js","webpack://@jupyterlab/application-top/./node_modules/lib0/set.js"],"names":["last","arr","length","create","copy","a","slice","appendTo","dest","src","i","push","from","Array","every","f","some","equalFlat","b","item","index","flatten","reduce","acc","val","concat","isArray","callAll","fs","args","nop","apply","id","equalityStrict","equalityFlat","constructor","equalityDeep","ArrayBuffer","Uint8Array","byteLength","Set","size","value","has","Map","key","keys","get","Object","isOneOf","options","includes","m","r","forEach","v","k","set","setIfUndefined","map","createT","undefined","res","any","all","floor","Math","ceil","abs","imul","round","log10","log2","log","sqrt","add","min","max","isNaN","Number","pow","exp10","exp","sign","isNegativeZero","n","assign","obj","results","hasProperty","prototype","hasOwnProperty","call","Observable","this","_observers","on","name","once","_f","off","observers","delete","emit","values","destroy","toArray","first","next","entries"],"mappings":"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","file":"3029.fcc4588f76d34cbb8886.js?v=fcc4588f76d34cbb8886","sourcesContent":["/**\n * Utility module to work with Arrays.\n *\n * @module array\n */\n\n/**\n * Return the last element of an array. The element must exist\n *\n * @template L\n * @param {Array<L>} arr\n * @return {L}\n */\nexport const last = arr => arr[arr.length - 1]\n\n/**\n * @template C\n * @return {Array<C>}\n */\nexport const create = () => /** @type {Array<C>} */ ([])\n\n/**\n * @template D\n * @param {Array<D>} a\n * @return {Array<D>}\n */\nexport const copy = a => /** @type {Array<D>} */ (a.slice())\n\n/**\n * Append elements from src to dest\n *\n * @template M\n * @param {Array<M>} dest\n * @param {Array<M>} src\n */\nexport const appendTo = (dest, src) => {\n  for (let i = 0; i < src.length; i++) {\n    dest.push(src[i])\n  }\n}\n\n/**\n * Transforms something array-like to an actual Array.\n *\n * @function\n * @template T\n * @param {ArrayLike<T>|Iterable<T>} arraylike\n * @return {T}\n */\nexport const from = Array.from\n\n/**\n * True iff condition holds on every element in the Array.\n *\n * @function\n * @template ITEM\n *\n * @param {Array<ITEM>} arr\n * @param {function(ITEM, number, Array<ITEM>):boolean} f\n * @return {boolean}\n */\nexport const every = (arr, f) => arr.every(f)\n\n/**\n * True iff condition holds on some element in the Array.\n *\n * @function\n * @template S\n * @param {Array<S>} arr\n * @param {function(S, number, Array<S>):boolean} f\n * @return {boolean}\n */\nexport const some = (arr, f) => arr.some(f)\n\n/**\n * @template ELEM\n *\n * @param {Array<ELEM>} a\n * @param {Array<ELEM>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a.length === b.length && every(a, (item, index) => item === b[index])\n\n/**\n * @template ELEM\n * @param {Array<Array<ELEM>>} arr\n * @return {Array<ELEM>}\n */\nexport const flatten = arr => arr.reduce((acc, val) => acc.concat(val), [])\n\nexport const isArray = Array.isArray\n","/**\n * Common functions and function call helpers.\n *\n * @module function\n */\n\nimport * as array from './array.js'\nimport * as object from './object.js'\n\n/**\n * Calls all functions in `fs` with args. Only throws after all functions were called.\n *\n * @param {Array<function>} fs\n * @param {Array<any>} args\n */\nexport const callAll = (fs, args, i = 0) => {\n  try {\n    for (; i < fs.length; i++) {\n      fs[i](...args)\n    }\n  } finally {\n    if (i < fs.length) {\n      callAll(fs, args, i + 1)\n    }\n  }\n}\n\nexport const nop = () => {}\n\n/**\n * @template T\n * @param {function():T} f\n * @return {T}\n */\nexport const apply = f => f()\n\n/**\n * @template A\n *\n * @param {A} a\n * @return {A}\n */\nexport const id = a => a\n\n/**\n * @template T\n *\n * @param {T} a\n * @param {T} b\n * @return {boolean}\n */\nexport const equalityStrict = (a, b) => a === b\n\n/**\n * @template T\n *\n * @param {Array<T>|object} a\n * @param {Array<T>|object} b\n * @return {boolean}\n */\nexport const equalityFlat = (a, b) => a === b || (a != null && b != null && a.constructor === b.constructor && ((a instanceof Array && array.equalFlat(a, /** @type {Array<T>} */ (b))) || (typeof a === 'object' && object.equalFlat(a, b))))\n\n/**\n * @param {any} a\n * @param {any} b\n * @return {boolean}\n */\nexport const equalityDeep = (a, b) => {\n  if (a == null || b == null) {\n    return equalityStrict(a, b)\n  }\n  if (a.constructor !== b.constructor) {\n    return false\n  }\n  if (a === b) {\n    return true\n  }\n  switch (a.constructor) {\n    case ArrayBuffer:\n      a = new Uint8Array(a)\n      b = new Uint8Array(b)\n    // eslint-disable-next-line no-fallthrough\n    case Uint8Array: {\n      if (a.byteLength !== b.byteLength) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n          return false\n        }\n      }\n      break\n    }\n    case Set: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const value of a) {\n        if (!b.has(value)) {\n          return false\n        }\n      }\n      break\n    }\n    case Map: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const key of a.keys()) {\n        if (!b.has(key) || !equalityDeep(a.get(key), b.get(key))) {\n          return false\n        }\n      }\n      break\n    }\n    case Object:\n      if (object.length(a) !== object.length(b)) {\n        return false\n      }\n      for (const key in a) {\n        if (!object.hasProperty(a, key) || !equalityDeep(a[key], b[key])) {\n          return false\n        }\n      }\n      break\n    case Array:\n      if (a.length !== b.length) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (!equalityDeep(a[i], b[i])) {\n          return false\n        }\n      }\n      break\n    default:\n      return false\n  }\n  return true\n}\n\n/**\n * @template V\n * @template {V} OPTS\n *\n * @param {V} value\n * @param {Array<OPTS>} options\n */\n// @ts-ignore\nexport const isOneOf = (value, options) => options.includes(value)\n","/**\n * Utility module to work with key-value stores.\n *\n * @module map\n */\n\n/**\n * Creates a new Map instance.\n *\n * @function\n * @return {Map<any, any>}\n *\n * @function\n */\nexport const create = () => new Map()\n\n/**\n * Copy a Map object into a fresh Map object.\n *\n * @function\n * @template X,Y\n * @param {Map<X,Y>} m\n * @return {Map<X,Y>}\n */\nexport const copy = m => {\n  const r = create()\n  m.forEach((v, k) => { r.set(k, v) })\n  return r\n}\n\n/**\n * Get map property. Create T if property is undefined and set T on map.\n *\n * ```js\n * const listeners = map.setIfUndefined(events, 'eventName', set.create)\n * listeners.add(listener)\n * ```\n *\n * @function\n * @template T,K\n * @param {Map<K, T>} map\n * @param {K} key\n * @param {function():T} createT\n * @return {T}\n */\nexport const setIfUndefined = (map, key, createT) => {\n  let set = map.get(key)\n  if (set === undefined) {\n    map.set(key, set = createT())\n  }\n  return set\n}\n\n/**\n * Creates an Array and populates it with the content of all key-value pairs using the `f(value, key)` function.\n *\n * @function\n * @template K\n * @template V\n * @template R\n * @param {Map<K,V>} m\n * @param {function(V,K):R} f\n * @return {Array<R>}\n */\nexport const map = (m, f) => {\n  const res = []\n  for (const [key, value] of m) {\n    res.push(f(value, key))\n  }\n  return res\n}\n\n/**\n * Tests whether any key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @todo should rename to some - similarly to Array.some\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const any = (m, f) => {\n  for (const [key, value] of m) {\n    if (f(value, key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Tests whether all key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const all = (m, f) => {\n  for (const [key, value] of m) {\n    if (!f(value, key)) {\n      return false\n    }\n  }\n  return true\n}\n","/**\n * Common Math expressions.\n *\n * @module math\n */\n\nexport const floor = Math.floor\nexport const ceil = Math.ceil\nexport const abs = Math.abs\nexport const imul = Math.imul\nexport const round = Math.round\nexport const log10 = Math.log10\nexport const log2 = Math.log2\nexport const log = Math.log\nexport const sqrt = Math.sqrt\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The sum of a and b\n */\nexport const add = (a, b) => a + b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The smaller element of a and b\n */\nexport const min = (a, b) => a < b ? a : b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The bigger element of a and b\n */\nexport const max = (a, b) => a > b ? a : b\n\nexport const isNaN = Number.isNaN\n\nexport const pow = Math.pow\n/**\n * Base 10 exponential function. Returns the value of 10 raised to the power of pow.\n *\n * @param {number} exp\n * @return {number}\n */\nexport const exp10 = exp => Math.pow(10, exp)\n\nexport const sign = Math.sign\n\n/**\n * @param {number} n\n * @return {boolean} Wether n is negative. This function also differentiates between -0 and +0\n */\nexport const isNegativeZero = n => n !== 0 ? n < 0 : 1 / n < 0\n","/**\n * Utility functions for working with EcmaScript objects.\n *\n * @module object\n */\n\n/**\n * @return {Object<string,any>} obj\n */\nexport const create = () => Object.create(null)\n\n/**\n * Object.assign\n */\nexport const assign = Object.assign\n\n/**\n * @param {Object<string,any>} obj\n */\nexport const keys = Object.keys\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):any} f\n */\nexport const forEach = (obj, f) => {\n  for (const key in obj) {\n    f(obj[key], key)\n  }\n}\n\n/**\n * @template R\n * @param {Object<string,any>} obj\n * @param {function(any,string):R} f\n * @return {Array<R>}\n */\nexport const map = (obj, f) => {\n  const results = []\n  for (const key in obj) {\n    results.push(f(obj[key], key))\n  }\n  return results\n}\n\n/**\n * @param {Object<string,any>} obj\n * @return {number}\n */\nexport const length = obj => keys(obj).length\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const some = (obj, f) => {\n  for (const key in obj) {\n    if (f(obj[key], key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const every = (obj, f) => {\n  for (const key in obj) {\n    if (!f(obj[key], key)) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Calls `Object.prototype.hasOwnProperty`.\n *\n * @param {any} obj\n * @param {string|symbol} key\n * @return {boolean}\n */\nexport const hasProperty = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key)\n\n/**\n * @param {Object<string,any>} a\n * @param {Object<string,any>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a === b || (length(a) === length(b) && every(a, (val, key) => (val !== undefined || hasProperty(b, key)) && b[key] === val))\n","/**\n * Observable class prototype.\n *\n * @module observable\n */\n\nimport * as map from './map.js'\nimport * as set from './set.js'\nimport * as array from './array.js'\n\n/**\n * Handles named events.\n *\n * @template N\n */\nexport class Observable {\n  constructor () {\n    /**\n     * Some desc.\n     * @type {Map<N, any>}\n     */\n    this._observers = map.create()\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  on (name, f) {\n    map.setIfUndefined(this._observers, name, set.create).add(f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  once (name, f) {\n    /**\n     * @param  {...any} args\n     */\n    const _f = (...args) => {\n      this.off(name, _f)\n      f(...args)\n    }\n    this.on(name, _f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  off (name, f) {\n    const observers = this._observers.get(name)\n    if (observers !== undefined) {\n      observers.delete(f)\n      if (observers.size === 0) {\n        this._observers.delete(name)\n      }\n    }\n  }\n\n  /**\n   * Emit a named event. All registered event listeners that listen to the\n   * specified name will receive the event.\n   *\n   * @todo This should catch exceptions\n   *\n   * @param {N} name The event name.\n   * @param {Array<any>} args The arguments that are applied to the event listener.\n   */\n  emit (name, args) {\n    // copy all listeners to an array first to make sure that no event is emitted to listeners that are subscribed while the event handler is called.\n    return array.from((this._observers.get(name) || map.create()).values()).forEach(f => f(...args))\n  }\n\n  destroy () {\n    this._observers = map.create()\n  }\n}\n","/**\n * Utility module to work with sets.\n *\n * @module set\n */\n\nexport const create = () => new Set()\n\n/**\n * @template T\n * @param {Set<T>} set\n * @return {Array<T>}\n */\nexport const toArray = set => Array.from(set)\n\n/**\n * @template T\n * @param {Set<T>} set\n * @return {T}\n */\nexport const first = set => {\n  return set.values().next().value || undefined\n}\n\n/**\n * @template T\n * @param {Iterable<T>} entries\n * @return {Set<T>}\n */\nexport const from = entries => {\n  return new Set(entries)\n}\n"],"sourceRoot":""}