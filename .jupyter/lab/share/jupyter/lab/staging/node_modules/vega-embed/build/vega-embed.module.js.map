{"version":3,"file":"vega-embed.module.js","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/regenerator/index.js","../src/post.ts","../src/style.ts","../src/util.ts","../src/embed.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined; // More compressible than void 0.\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []);\n\n  // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n  return generator;\n}\n\n// Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return { type: \"normal\", arg: fn.call(obj, arg) };\n  } catch (err) {\n    return { type: \"throw\", arg: err };\n  }\n}\n\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\";\n\n// Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\nvar ContinueSentinel = {};\n\n// Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\nfunction Generator() {}\nfunction GeneratorFunction() {}\nfunction GeneratorFunctionPrototype() {}\n\n// This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\nvar IteratorPrototype = {};\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\n\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\nif (NativeIteratorPrototype &&\n  NativeIteratorPrototype !== Op &&\n  hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\n\nvar Gp = GeneratorFunctionPrototype.prototype =\n  Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] =\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n// Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function(method) {\n    prototype[method] = function(arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\n\nfunction isGeneratorFunction (genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor\n    ? ctor === GeneratorFunction ||\n    // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n    : false;\n};\n\nfunction mark (genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n};\n\n// Within the body of any async function, `await x` is transformed to\n// `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\nfunction awrap (arg) {\n  return { __await: arg };\n};\n\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n      if (value &&\n        typeof value === \"object\" &&\n        hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function(value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n\n      return PromiseImpl.resolve(value).then(function(unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function(error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n\n  var previousPromise;\n\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function(resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n\n    return previousPromise =\n      // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(\n        callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg\n      ) : callInvokeWithMethodAndArg();\n  }\n\n  // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n  this._invoke = enqueue;\n}\n\ndefineIteratorMethods(AsyncIterator.prototype);\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n};\n\n// Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n function async (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n  var iter = new AsyncIterator(\n    wrap(innerFn, outerFn, self, tryLocsList),\n    PromiseImpl\n  );\n\n  return isGeneratorFunction(outerFn)\n    ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n};\n\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      }\n\n      // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n      return doneResult();\n    }\n\n    context.method = method;\n    context.arg = arg;\n\n    while (true) {\n      var delegate = context.delegate;\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n\n        context.dispatchException(context.arg);\n\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n\n      state = GenStateExecuting;\n\n      var record = tryCatch(innerFn, self, context);\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done\n          ? GenStateCompleted\n          : GenStateSuspendedYield;\n\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n\n        return {\n          value: record.arg,\n          done: context.done\n        };\n\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted;\n        // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n}\n\n// Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n  if (method === undefined) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n\n      context.method = \"throw\";\n      context.arg = new TypeError(\n        \"The iterator does not provide a 'throw' method\");\n    }\n\n    return ContinueSentinel;\n  }\n\n  var record = tryCatch(method, delegate.iterator, context.arg);\n\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  var info = record.arg;\n\n  if (! info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value;\n\n    // Resume execution at the desired location (see delegateYield).\n    context.next = delegate.nextLoc;\n\n    // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined;\n    }\n\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  }\n\n  // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n  context.delegate = null;\n  return ContinueSentinel;\n}\n\n// Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\ndefineIteratorMethods(Gp);\n\nGp[toStringTagSymbol] = \"Generator\";\n\n// A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\nGp[iteratorSymbol] = function() {\n  return this;\n};\n\nGp.toString = function() {\n  return \"[object Generator]\";\n};\n\nfunction pushTryEntry(locs) {\n  var entry = { tryLoc: locs[0] };\n\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n\n  this.tryEntries.push(entry);\n}\n\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\n\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{ tryLoc: \"root\" }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\n\nfunction keys (object) {\n  var keys = [];\n  for (var key in object) {\n    keys.push(key);\n  }\n  keys.reverse();\n\n  // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    }\n\n    // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n    next.done = true;\n    return next;\n  };\n};\n\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n\n    if (!isNaN(iterable.length)) {\n      var i = -1, next = function next() {\n        while (++i < iterable.length) {\n          if (hasOwn.call(iterable, i)) {\n            next.value = iterable[i];\n            next.done = false;\n            return next;\n          }\n        }\n\n        next.value = undefined;\n        next.done = true;\n\n        return next;\n      };\n\n      return next.next = next;\n    }\n  }\n\n  // Return an iterator with no values.\n  return { next: doneResult };\n}\n\nfunction doneResult() {\n  return { value: undefined, done: true };\n}\n\nContext.prototype = {\n  constructor: Context,\n\n  reset: function(skipTempReset) {\n    this.prev = 0;\n    this.next = 0;\n    // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n    this.sent = this._sent = undefined;\n    this.done = false;\n    this.delegate = null;\n\n    this.method = \"next\";\n    this.arg = undefined;\n\n    this.tryEntries.forEach(resetTryEntry);\n\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" &&\n          hasOwn.call(this, name) &&\n          !isNaN(+name.slice(1))) {\n          this[name] = undefined;\n        }\n      }\n    }\n  },\n\n  stop: function() {\n    this.done = true;\n\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n\n    return this.rval;\n  },\n\n  dispatchException: function(exception) {\n    if (this.done) {\n      throw exception;\n    }\n\n    var context = this;\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n      return !! caught;\n    }\n\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n\n  abrupt: function(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc <= this.prev &&\n        hasOwn.call(entry, \"finallyLoc\") &&\n        this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n\n    if (finallyEntry &&\n      (type === \"break\" ||\n        type === \"continue\") &&\n      finallyEntry.tryLoc <= arg &&\n      arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n\n    return this.complete(record);\n  },\n\n  complete: function(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n\n    if (record.type === \"break\" ||\n      record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n\n    return ContinueSentinel;\n  },\n\n  finish: function(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n\n  \"catch\": function(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n        return thrown;\n      }\n    }\n\n    // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n    throw new Error(\"illegal catch attempt\");\n  },\n\n  delegateYield: function(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined;\n    }\n\n    return ContinueSentinel;\n  }\n};\n\n// Export a default namespace that plays well with Rollup\nexport default {\n  wrap,\n  isGeneratorFunction,\n  AsyncIterator,\n  mark,\n  awrap,\n  async,\n  keys,\n  values\n};\n","import {MessageData} from './types';\n\n/**\n * Open editor url in a new window, and pass a message.\n */\nexport default function (window: Window, url: string, data: MessageData) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const editor = window.open(url)!;\n  const wait = 10000;\n  const step = 250;\n  const {origin} = new URL(url);\n  // eslint-disable-next-line no-bitwise\n  let count = ~~(wait / step);\n\n  function listen(evt: MessageEvent) {\n    if (evt.source === editor) {\n      count = 0;\n      window.removeEventListener('message', listen, false);\n    }\n  }\n  window.addEventListener('message', listen, false);\n\n  // send message\n  // periodically resend until ack received or timeout\n  function send() {\n    if (count <= 0) {\n      return;\n    }\n    editor.postMessage(data, origin);\n    setTimeout(send, step);\n    count -= 1;\n  }\n  setTimeout(send, step);\n}\n","// generated with build-style.sh\nexport default `.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: \"\";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper.fit-x {\n    width: 100%; }\n  .vega-embed .chart-wrapper.fit-y {\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n`;\n","import {writeConfig} from 'vega';\n\n// polyfill for IE\nif (!String.prototype.startsWith) {\n  // eslint-disable-next-line no-extend-native,func-names\n  String.prototype.startsWith = function (search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\n\nexport function isURL(s: string): boolean {\n  return s.startsWith('http://') || s.startsWith('https://') || s.startsWith('//');\n}\n\nexport type DeepPartial<T> = {[P in keyof T]?: P extends unknown ? unknown : DeepPartial<T[P]>};\n\nexport function mergeDeep<T>(dest: T, ...src: readonly DeepPartial<T>[]): T {\n  for (const s of src) {\n    deepMerge_(dest, s);\n  }\n  return dest;\n}\n\nfunction deepMerge_(dest: any, src: any) {\n  for (const property of Object.keys(src)) {\n    writeConfig(dest, property, src[property], true);\n  }\n}\n","import {applyPatch, Operation} from 'fast-json-patch';\nimport stringify from 'json-stringify-pretty-compact';\nimport {satisfies} from 'semver';\nimport * as vegaImport from 'vega';\nimport {\n  AutoSize,\n  Config as VgConfig,\n  EncodeEntryName,\n  isBoolean,\n  isString,\n  Loader,\n  LoaderOptions,\n  mergeConfig,\n  Renderers,\n  Spec as VgSpec,\n  TooltipHandler,\n  View,\n} from 'vega';\nimport * as vegaLiteImport from 'vega-lite';\nimport {Config as VlConfig, TopLevelSpec as VlSpec} from 'vega-lite';\nimport schemaParser from 'vega-schema-url-parser';\nimport * as themes from 'vega-themes';\nimport {Handler, Options as TooltipOptions} from 'vega-tooltip';\nimport post from './post';\nimport embedStyle from './style';\nimport {Config, Mode} from './types';\nimport {mergeDeep} from './util';\n\nexport * from './types';\n\nexport const vega = vegaImport;\nexport let vegaLite = vegaLiteImport;\n\n// For backwards compatibility with Vega-Lite before v4.\nconst w = (typeof window !== 'undefined' ? window : undefined) as any;\nif (vegaLite === undefined && w?.['vl']?.compile) {\n  vegaLite = w['vl'];\n}\n\nexport interface Actions {\n  export?: boolean | {svg?: boolean; png?: boolean};\n  source?: boolean;\n  compiled?: boolean;\n  editor?: boolean;\n}\n\nexport const DEFAULT_ACTIONS = {export: {svg: true, png: true}, source: true, compiled: true, editor: true};\n\nexport interface Hover {\n  hoverSet?: EncodeEntryName;\n  updateSet?: EncodeEntryName;\n}\n\nexport type PatchFunc = (spec: VgSpec) => VgSpec;\n\nconst I18N = {\n  CLICK_TO_VIEW_ACTIONS: 'Click to view actions',\n  COMPILED_ACTION: 'View Compiled Vega',\n  EDITOR_ACTION: 'Open in Vega Editor',\n  PNG_ACTION: 'Save as PNG',\n  SOURCE_ACTION: 'View Source',\n  SVG_ACTION: 'Save as SVG',\n};\n\nexport interface EmbedOptions<S = string, R = Renderers> {\n  bind?: HTMLElement | string;\n  actions?: boolean | Actions;\n  mode?: Mode;\n  theme?: 'excel' | 'ggplot2' | 'quartz' | 'vox' | 'dark';\n  defaultStyle?: boolean | string;\n  logLevel?: number;\n  loader?: Loader | LoaderOptions;\n  renderer?: R;\n  tooltip?: TooltipHandler | TooltipOptions | boolean;\n  patch?: S | PatchFunc | Operation[];\n  width?: number;\n  height?: number;\n  padding?: number | {left?: number; right?: number; top?: number; bottom?: number};\n  scaleFactor?: number;\n  config?: S | Config;\n  sourceHeader?: string;\n  sourceFooter?: string;\n  editorUrl?: string;\n  hover?: boolean | Hover;\n  i18n?: Partial<typeof I18N>;\n  downloadFileName?: string;\n  formatLocale?: Record<string, unknown>;\n  timeFormatLocale?: Record<string, unknown>;\n  ast?: boolean;\n  viewClass?: typeof View;\n}\n\nconst NAMES: {[key in Mode]: string} = {\n  vega: 'Vega',\n  'vega-lite': 'Vega-Lite',\n};\n\nconst VERSION = {\n  vega: vega.version,\n  'vega-lite': vegaLite ? vegaLite.version : 'not available',\n};\n\nconst PREPROCESSOR: {[mode in Mode]: (spec: any, config?: Config) => VgSpec} = {\n  vega: (vgSpec: VgSpec) => vgSpec,\n  'vega-lite': (vlSpec, config) => vegaLite.compile(vlSpec as VlSpec, {config: config as VlConfig}).spec,\n};\n\nconst SVG_CIRCLES = `\n<svg viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <circle r=\"2\" cy=\"8\" cx=\"2\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"8\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"14\"></circle>\n</svg>`;\n\nconst CHART_WRAPPER_CLASS = 'chart-wrapper';\n\nexport type VisualizationSpec = VlSpec | VgSpec;\n\nexport interface Result {\n  /** The Vega view. */\n  view: View;\n\n  /** The input specification. */\n  spec: VisualizationSpec;\n\n  /** The compiled and patched Vega specification. */\n  vgSpec: VgSpec;\n\n  /** Removes references to unwanted behaviors and memory leaks. Calls Vega's `view.finalize`.  */\n  finalize: () => void;\n}\n\nfunction isTooltipHandler(h?: boolean | TooltipOptions | TooltipHandler): h is TooltipHandler {\n  return typeof h === 'function';\n}\n\nfunction viewSource(source: string, sourceHeader: string, sourceFooter: string, mode: Mode) {\n  const header = `<html><head>${sourceHeader}</head><body><pre><code class=\"json\">`;\n  const footer = `</code></pre>${sourceFooter}</body></html>`;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const win = window.open('')!;\n  win.document.write(header + source + footer);\n  win.document.title = `${NAMES[mode]} JSON Source`;\n}\n\n/**\n * Try to guess the type of spec.\n *\n * @param spec Vega or Vega-Lite spec.\n */\nexport function guessMode(spec: VisualizationSpec, providedMode?: Mode): Mode {\n  // Decide mode\n  if (spec.$schema) {\n    const parsed = schemaParser(spec.$schema);\n    if (providedMode && providedMode !== parsed.library) {\n      console.warn(\n        `The given visualization spec is written in ${NAMES[parsed.library]}, but mode argument sets ${\n          NAMES[providedMode] ?? providedMode\n        }.`\n      );\n    }\n\n    const mode = parsed.library as Mode;\n\n    if (!satisfies(VERSION[mode], `^${parsed.version.slice(1)}`)) {\n      console.warn(\n        `The input spec uses ${NAMES[mode]} ${parsed.version}, but the current version of ${NAMES[mode]} is v${VERSION[mode]}.`\n      );\n    }\n\n    return mode;\n  }\n\n  // try to guess from the provided spec\n  if (\n    'mark' in spec ||\n    'encoding' in spec ||\n    'layer' in spec ||\n    'hconcat' in spec ||\n    'vconcat' in spec ||\n    'facet' in spec ||\n    'repeat' in spec\n  ) {\n    return 'vega-lite';\n  }\n\n  if ('marks' in spec || 'signals' in spec || 'scales' in spec || 'axes' in spec) {\n    return 'vega';\n  }\n\n  return providedMode ?? 'vega';\n}\n\nfunction isLoader(o?: LoaderOptions | Loader): o is Loader {\n  return !!(o && 'load' in o);\n}\n\nfunction createLoader(opts?: Loader | LoaderOptions) {\n  return isLoader(opts) ? opts : vega.loader(opts);\n}\n\nfunction embedOptionsFromUsermeta(parsedSpec: VisualizationSpec) {\n  return (parsedSpec.usermeta && (parsedSpec.usermeta as any)['embedOptions']) ?? {};\n}\n\n/**\n * Embed a Vega visualization component in a web page. This function returns a promise.\n *\n * @param el        DOM element in which to place component (DOM node or CSS selector).\n * @param spec      String : A URL string from which to load the Vega specification.\n *                  Object : The Vega/Vega-Lite specification as a parsed JSON object.\n * @param opts       A JavaScript object containing options for embedding.\n */\nexport default async function embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec | string,\n  opts: EmbedOptions = {}\n): Promise<Result> {\n  let parsedSpec: VisualizationSpec;\n  let loader: Loader | undefined;\n\n  if (isString(spec)) {\n    loader = createLoader(opts.loader);\n    parsedSpec = JSON.parse(await loader.load(spec));\n  } else {\n    parsedSpec = spec;\n  }\n\n  const usermetaLoader = embedOptionsFromUsermeta(parsedSpec).loader;\n\n  // either create the loader for the first time or create a new loader if the spec has new loader options\n  if (!loader || usermetaLoader) {\n    loader = createLoader(opts.loader ?? usermetaLoader);\n  }\n\n  const usermetaOpts = await loadOpts(embedOptionsFromUsermeta(parsedSpec), loader);\n  const parsedOpts = await loadOpts(opts, loader);\n\n  const mergedOpts = {\n    ...mergeDeep(parsedOpts, usermetaOpts),\n    config: mergeConfig(parsedOpts.config ?? {}, usermetaOpts.config ?? {}),\n  };\n\n  return await _embed(el, parsedSpec, mergedOpts, loader);\n}\n\nasync function loadOpts(opt: EmbedOptions, loader: Loader): Promise<EmbedOptions<never>> {\n  const config: Config = isString(opt.config) ? JSON.parse(await loader.load(opt.config)) : opt.config ?? {};\n  const patch: PatchFunc | Operation[] = isString(opt.patch) ? JSON.parse(await loader.load(opt.patch)) : opt.patch;\n  return {\n    ...(opt as any),\n    ...(patch ? {patch} : {}),\n    ...(config ? {config} : {}),\n  };\n}\n\nfunction getRoot(el: Element) {\n  const possibleRoot = el.getRootNode ? el.getRootNode() : document;\n  if (possibleRoot instanceof ShadowRoot) {\n    return {root: possibleRoot, rootContainer: possibleRoot};\n  } else {\n    return {root: document, rootContainer: document.head ?? document.body};\n  }\n}\n\nasync function _embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec,\n  opts: EmbedOptions<never> = {},\n  loader: Loader\n): Promise<Result> {\n  const config = opts.theme ? mergeConfig(themes[opts.theme], opts.config ?? {}) : opts.config;\n\n  const actions = isBoolean(opts.actions) ? opts.actions : mergeDeep<Actions>({}, DEFAULT_ACTIONS, opts.actions ?? {});\n  const i18n = {...I18N, ...opts.i18n};\n\n  const renderer = opts.renderer ?? 'canvas';\n  const logLevel = opts.logLevel ?? vega.Warn;\n  const downloadFileName = opts.downloadFileName ?? 'visualization';\n\n  const element = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!element) {\n    throw new Error(`${el} does not exist`);\n  }\n\n  if (opts.defaultStyle !== false) {\n    // Add a default stylesheet to the head of the document.\n    const ID = 'vega-embed-style';\n    const {root, rootContainer} = getRoot(element);\n    if (!root.getElementById(ID)) {\n      const style = document.createElement('style');\n      style.id = ID;\n      style.innerText =\n        opts.defaultStyle === undefined || opts.defaultStyle === true\n          ? (embedStyle ?? '').toString()\n          : opts.defaultStyle;\n      rootContainer.appendChild(style);\n    }\n  }\n\n  const mode = guessMode(spec, opts.mode);\n\n  let vgSpec: VgSpec = PREPROCESSOR[mode](spec, config);\n\n  if (mode === 'vega-lite') {\n    if (vgSpec.$schema) {\n      const parsed = schemaParser(vgSpec.$schema);\n\n      if (!satisfies(VERSION.vega, `^${parsed.version.slice(1)}`)) {\n        console.warn(`The compiled spec uses Vega ${parsed.version}, but current version is v${VERSION.vega}.`);\n      }\n    }\n  }\n\n  element.classList.add('vega-embed');\n  if (actions) {\n    element.classList.add('has-actions');\n  }\n  element.innerHTML = ''; // clear container\n\n  let container = element;\n  if (actions) {\n    const chartWrapper = document.createElement('div');\n    chartWrapper.classList.add(CHART_WRAPPER_CLASS);\n    element.appendChild(chartWrapper);\n    container = chartWrapper;\n  }\n\n  const patch = opts.patch;\n  if (patch) {\n    if (patch instanceof Function) {\n      vgSpec = patch(vgSpec);\n    } else {\n      vgSpec = applyPatch(vgSpec, patch, true, false).newDocument;\n    }\n  }\n\n  // Set locale. Note that this is a global setting.\n  if (opts.formatLocale) {\n    vega.formatLocale(opts.formatLocale);\n  }\n\n  if (opts.timeFormatLocale) {\n    vega.timeFormatLocale(opts.timeFormatLocale);\n  }\n\n  const {ast} = opts;\n\n  // Do not apply the config to Vega when we have already applied it to Vega-Lite.\n  // This call may throw an Error if parsing fails.\n  const runtime = vega.parse(vgSpec, mode === 'vega-lite' ? {} : (config as VgConfig), {ast});\n\n  const view = new (opts.viewClass || vega.View)(runtime, {\n    loader,\n    logLevel,\n    renderer,\n    ...(ast ? {expr: (vega as any).expressionInterpreter} : {}),\n  });\n\n  view.addSignalListener('autosize', (_, autosize: Exclude<AutoSize, string>) => {\n    const {type} = autosize;\n    if (type == 'fit-x') {\n      container.classList.add('fit-x');\n      container.classList.remove('fit-y');\n    } else if (type == 'fit-y') {\n      container.classList.remove('fit-x');\n      container.classList.add('fit-y');\n    } else if (type == 'fit') {\n      container.classList.add('fit-x', 'fit-y');\n    } else {\n      container.classList.remove('fit-x', 'fit-y');\n    }\n  });\n\n  if (opts.tooltip !== false) {\n    let handler: TooltipHandler;\n    if (isTooltipHandler(opts.tooltip)) {\n      handler = opts.tooltip;\n    } else {\n      // user provided boolean true or tooltip options\n      handler = new Handler(opts.tooltip === true ? {} : opts.tooltip).call;\n    }\n\n    view.tooltip(handler);\n  }\n\n  let {hover} = opts;\n\n  if (hover === undefined) {\n    hover = mode === 'vega';\n  }\n\n  if (hover) {\n    const {hoverSet, updateSet} = (typeof hover === 'boolean' ? {} : hover) as Hover;\n\n    view.hover(hoverSet, updateSet);\n  }\n\n  if (opts) {\n    if (opts.width != null) {\n      view.width(opts.width);\n    }\n    if (opts.height != null) {\n      view.height(opts.height);\n    }\n    if (opts.padding != null) {\n      view.padding(opts.padding);\n    }\n  }\n\n  await view.initialize(container, opts.bind).runAsync();\n\n  let documentClickHandler: ((this: Document, ev: MouseEvent) => void) | undefined;\n\n  if (actions !== false) {\n    let wrapper = element;\n\n    if (opts.defaultStyle !== false) {\n      const details = document.createElement('details');\n      details.title = i18n.CLICK_TO_VIEW_ACTIONS;\n      element.append(details);\n\n      wrapper = details;\n      const summary = document.createElement('summary');\n      summary.innerHTML = SVG_CIRCLES;\n\n      details.append(summary);\n\n      documentClickHandler = (ev: MouseEvent) => {\n        if (!details.contains(ev.target as any)) {\n          details.removeAttribute('open');\n        }\n      };\n      document.addEventListener('click', documentClickHandler);\n    }\n\n    const ctrl = document.createElement('div');\n    wrapper.append(ctrl);\n    ctrl.classList.add('vega-actions');\n\n    // add 'Export' action\n    if (actions === true || actions.export !== false) {\n      for (const ext of ['svg', 'png'] as const) {\n        if (actions === true || actions.export === true || (actions.export as {svg?: boolean; png?: boolean})[ext]) {\n          const i18nExportAction = (i18n as {[key: string]: string})[`${ext.toUpperCase()}_ACTION`];\n          const exportLink = document.createElement('a');\n\n          exportLink.text = i18nExportAction;\n          exportLink.href = '#';\n          exportLink.target = '_blank';\n          exportLink.download = `${downloadFileName}.${ext}`;\n          // add link on mousedown so that it's correct when the click happens\n          exportLink.addEventListener('mousedown', async function (this, e) {\n            e.preventDefault();\n            const url = await view.toImageURL(ext, opts.scaleFactor);\n            this.href = url;\n          });\n\n          ctrl.append(exportLink);\n        }\n      }\n    }\n\n    // add 'View Source' action\n    if (actions === true || actions.source !== false) {\n      const viewSourceLink = document.createElement('a');\n\n      viewSourceLink.text = i18n.SOURCE_ACTION;\n      viewSourceLink.href = '#';\n      viewSourceLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(spec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', mode);\n        e.preventDefault();\n      });\n\n      ctrl.append(viewSourceLink);\n    }\n\n    // add 'View Compiled' action\n    if (mode === 'vega-lite' && (actions === true || actions.compiled !== false)) {\n      const compileLink = document.createElement('a');\n\n      compileLink.text = i18n.COMPILED_ACTION;\n      compileLink.href = '#';\n      compileLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(vgSpec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', 'vega');\n        e.preventDefault();\n      });\n\n      ctrl.append(compileLink);\n    }\n\n    // add 'Open in Vega Editor' action\n    if (actions === true || actions.editor !== false) {\n      const editorUrl = opts.editorUrl ?? 'https://vega.github.io/editor/';\n      const editorLink = document.createElement('a');\n\n      editorLink.text = i18n.EDITOR_ACTION;\n      editorLink.href = '#';\n      editorLink.addEventListener('click', function (this, e) {\n        post(window, editorUrl, {\n          config: config as Config,\n          mode,\n          renderer,\n          spec: stringify(spec),\n        });\n        e.preventDefault();\n      });\n\n      ctrl.append(editorLink);\n    }\n  }\n\n  function finalize() {\n    if (documentClickHandler) {\n      document.removeEventListener('click', documentClickHandler);\n    }\n    view.finalize();\n  }\n\n  return {view, spec, vgSpec, finalize};\n}\n"],"names":["Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","type","call","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","value","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","key","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield"],"mappings":"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"}